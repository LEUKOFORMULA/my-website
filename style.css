/* ─── базовая вёрстка ───────────────────────────────────────── */
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:sans-serif;
  height:100vh;display:flex;flex-direction:column;
  align-items:center;background:#fffbe9;overflow:hidden}
h1{
  margin:16px 8px 10px;
  font-size:clamp(1.2rem,2.4vw + 1rem,1.8rem);
  color:#a00000;text-align:center}

/* ─── панель кнопок ─────────────────────────────────────────── */
/* ─── панель кнопок (липнет под заголовком) ─── */
.panel{
  position:sticky;   /* вместо fixed */
  top:calc(56px + 4px);   /* высота h1 ≈ 56 px */
  display:flex;gap:8px;flex-wrap:wrap;justify-content:center;
  margin-bottom:10px;z-index:5;padding:4px}
button{
  padding:10px 14px;font-size:1rem;border:none;border-radius:10px;
  color:#fff;min-width:90px;cursor:pointer;
  box-shadow:0 2px 5px rgba(0,0,0,.25)}
#antibiotic{background:#2196f3}
#gcsf      {background:#4caf50}
#immunodef {background:#ff6161}
button:disabled{opacity:.55}

/* ─── игровое поле ──────────────────────────────────────────── */
#scene{
  flex:1;width:100%;max-width:1000px;position:relative;overflow:hidden;
  border-top:2px solid #ffdddd;
  background:repeating-linear-gradient(135deg,
           rgba(255,255,255,0) 0 20px,
           rgba(255,240,240,.4) 20px 40px)}

/* ─── финальный баннер ──────────────────────────────────────── */
#banner{
  position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  font-weight:700;letter-spacing:1px;text-shadow:0 0 6px #000;
  font-size:clamp(2rem,6vw,4rem);background:rgba(0,0,0,.85);
  color:#ff3232;opacity:0;pointer-events:none;transition:opacity .8s;z-index:4}
#banner.show{opacity:1}
.win{color:#00e676}

/* ─── клетки ───────────────────────────────────────────────── */
.entity{position:absolute;transform:translate(-50%,-50%);pointer-events:none;border-radius:50%}
.ery{
  width:60px;height:60px;
  background:radial-gradient(circle at 30% 30%,#cc0000,#840000);
  box-shadow:0 0 10px rgba(200,0,0,.4)}
.leu{
  width:70px;height:70px;
  background:radial-gradient(circle at 30% 30%,#d8f1ff,#9ad0ff 70%,#79bfff);
  box-shadow:0 0 12px rgba(0,120,255,.5)}
.bac{transition:filter .2s}
.bac.slow{filter:brightness(.6) saturate(.6)}
